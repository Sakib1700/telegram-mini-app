<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mini Bitcoin</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="//whephiwuma.com/sdk.js" data-zone="9221717" data-sdk="show_9221717"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      background: #fff;
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
    }
    button {
      background-color: #0088cc;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
    #taskArea, #withdrawArea {
      margin-top: 20px;
    }
    #emailInput {
      padding: 10px;
      width: 80%;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 id="welcome">Hi, Friend!</h2>
    <p>Points: <span id="points">0</span></p>
    <button id="startBtn">Start Tasks</button>
    <div id="taskArea" style="display:none"></div>
    <div id="withdrawArea" style="display:none">
      <input type="email" id="emailInput" placeholder="Enter PayPal Email" /><br />
      <button onclick="submitEmail()">Submit</button>
    </div>
  </div>  <script>
    const tg = window.Telegram.WebApp;
    let user = tg.initDataUnsafe.user || { id: 'demo', username: 'Friend' };
    document.getElementById('welcome').innerText = `Hi, ${user.username || 'Friend'}!`;

    let points = 0;
    let taskIndex = 0;
    const pointDisplay = document.getElementById('points');
    const taskArea = document.getElementById('taskArea');
    const withdrawArea = document.getElementById('withdrawArea');

    const tasks = [
      () => {
        taskArea.innerHTML = '<p>Tap as fast as you can!</p><button onclick="completeTask()">TAP!</button>';
      },
      () => {
        const emojis = ['üòÄ','üòé','üê±','üçï','‚öΩ'];
        const match = emojis[Math.floor(Math.random() * emojis.length)];
        taskArea.innerHTML = `<p>Find: ${match}</p>` + emojis.map(e => `<button onclick="${e === match ? 'completeTask()' : ''}">${e}</button>`).join(' ');
      },
      () => {
        const start = Date.now();
        setTimeout(() => {
          taskArea.innerHTML = '<p>Click NOW!</p><button onclick="checkReaction()">NOW!</button>';
        }, Math.random()*3000+1000);
        window.checkReaction = () => {
          const time = Date.now() - start;
          if(time > 1000) completeTask();
        }
      },
      () => {
        const num = Math.floor(Math.random()*10);
        taskArea.innerHTML = `<p>Guess the number (0-9)</p><input type='number' id='guessNum' /><button onclick='checkGuess(${num})'>Guess</button>`;
      },
      () => {
        taskArea.innerHTML = '<p>Remember this: ABC123</p>';
        setTimeout(() => {
          taskArea.innerHTML = `<p>Enter it:</p><input id='memory'/><button onclick='checkMemory()'>Submit</button>`;
        }, 2000);
      }
    ];

    function checkGuess(correct) {
      const guess = document.getElementById('guessNum').value;
      if (+guess === correct) completeTask();
    }

    function checkMemory() {
      const val = document.getElementById('memory').value;
      if (val === 'ABC123') completeTask();
    }

    function completeTask() {
      points += 10;
      pointDisplay.innerText = points;
      taskIndex++;
      if (taskIndex < tasks.length) {
        showAdAndRun(tasks[taskIndex]);
      } else {
        taskArea.innerHTML = '<p>All tasks completed!</p>';
        if(points >= 200) withdrawArea.style.display = 'block';
      }
    }

    document.getElementById('startBtn').addEventListener('click', () => {
      taskIndex = 0;
      points = 0;
      pointDisplay.innerText = 0;
      withdrawArea.style.display = 'none';
      showAdAndRun(tasks[0]);
      taskArea.style.display = 'block';
    });

    function showAdAndRun(callback) {
      show_9221717('pop').then(() => {
        callback();
      }).catch(() => {
        callback();
      });
    }

    function submitEmail() {
      const email = document.getElementById('emailInput').value;
      if (!email.match(/^\S+@\S+\.\S+$/)) {
        alert('Invalid email!');
        return;
      }

      // Example GitHub Gist or API submission placeholder
      fetch("https://api.telegram.org/bot8168793684:AAEO8Nvc3OXc_pYmw4-lddMl3bUJ-3wX6mo/sendMessage", {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: "8168793684",
          text: `Withdrawal Request:\nUser: @${user.username}\nID: ${user.id}\nPoints: ${points}\nPayPal: ${email}`
        })
      }).then(() => {
        alert("Request sent to admin.");
        withdrawArea.innerHTML = '<p>Request Sent!</p>';
      }).catch(() => {
        alert("Failed to send request.");
      });
    }
  </script></body>
</html>
